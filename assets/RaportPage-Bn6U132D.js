import{_ as A}from"./logo-5BIeh89Q.js";import{a as w}from"./api-Caf7j-qN.js";import{a as I}from"./helper-C8W09Boa.js";import{q as s,Y as L,r as b,o as M,c as v,e,a as N,j as r,t as a,b as p}from"./index-DsQlkQdz.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"w-[210mm] min-h-[297mm] bg-white mx-auto"},G={key:0,class:"text-center text-gray-500"},H={key:1},R={class:"mb-16 avoid-break"},q={class:"text-base"},P={class:"text-center mb-12 avoid-break"},j={class:"text-3xl font-bold tracking-widest mb-6 underline"},B={class:"text-lg font-bold mb-2 min-h-7"},C={class:"max-w-xl mx-auto text-left leading-relaxed"},z={class:"font-bold"},E={class:"font-bold"},F={class:"font-bold"},J={class:"text-right avoid-break"},T={__name:"RaportPage",setup(U){const n=L(),u=s(()=>n.params.id),i=s(()=>n.query.year),l=s(()=>n.query.month);s(()=>n.query.day);const f=s(()=>n.query.type);console.log(f.value);const m=b(!0),o=b(null),c=b(0),S=d=>["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"][d-2],g=s(()=>!i||!l?"":`${S(l.value)} ${i.value}`),D=s(()=>I());return M(async()=>{if(!(!u||!i||!l)){m.value=!0;try{const[d,t]=await Promise.all([w.getHouseById(u.value),w.getEntries({houseId:u.value,year:i.value,month:l.value})]);o.value=d,c.value=t.length}catch(d){console.error("Failed to fetch report data:",d)}finally{m.value=!1}}}),(d,t)=>{var h,x,y,k,_;return p(),v("div",V,[m.value?(p(),v("div",G," Loading Report Data... ")):(p(),v("div",H,[t[8]||(t[8]=e("header",{class:"flex justify-end items-start mb-16 avoid-break"},[e("img",{src:A,alt:"KÖNIGS-VILLEN Logo",class:"w-65"})],-1)),t[9]||(t[9]=e("p",{class:"text-sm mb-2 avoid-break"},[e("strong",{class:"font-bold"},"Königs Villen Immobilien GmbH"),r(" - Stuttgarter Str. 24 70825 Korntal-Münchingen ")],-1)),e("div",R,[t[3]||(t[3]=e("p",{class:"font-bold mb-1 underline"},"Auftraggeber:",-1)),e("div",q,[t[0]||(t[0]=e("p",null,"Landeshauptstadt Stuttgart",-1)),t[1]||(t[1]=e("p",null,"Amt für Liegenschaften",-1)),t[2]||(t[2]=e("p",null,"GZ: 23-3.31",-1)),e("p",null,a(((h=o.value)==null?void 0:h.street)||"Heustraße 1"),1),e("p",null,a(((x=o.value)==null?void 0:x.zipCode)||"70174")+" "+a(((y=o.value)==null?void 0:y.city)||"Stuttgart"),1)])]),e("div",P,[e("h1",j,"RAPPORT "+a(g.value.toUpperCase()),1),e("h1",B,a(f.value??""),1),e("p",C,[t[4]||(t[4]=r(" Hiermit wird bestätigt, dass in der Liegenschaft in der ")),e("span",z,a((k=o.value)==null?void 0:k.name),1),t[5]||(t[5]=r(" der Auftragnehmer KV- Gebäudemanagement laut dem Kommunikationsbuch im Monat ")),e("span",E,a(g.value),1),t[6]||(t[6]=r(" insgesamt ")),e("span",F,a(c.value),1),t[7]||(t[7]=r(" Aufträge durchgeführt hat. "))])]),e("div",J,[e("p",null,a(((_=o.value)==null?void 0:_.city)||"Stuttgart")+", "+a(D.value),1)]),t[10]||(t[10]=N('<div class="flex justify-between items-end text-sm avoid-break mt-40" data-v-adf77bd4><div class="w-2/5 text-center" data-v-adf77bd4><div class="border-b border-black mb-1" style="height:40px;" data-v-adf77bd4></div><p data-v-adf77bd4>Unterschrift &amp; Stempel Heimleitung</p></div><div class="w-2/5 text-center" data-v-adf77bd4><div class="border-b border-black mb-1" style="height:40px;" data-v-adf77bd4></div><p data-v-adf77bd4>Unterschrift &amp; Stempel Auftragnehmer</p></div></div><div class="text-xs text-gray-600 mt-24 pt-4 flex justify-between avoid-break" data-v-adf77bd4><div data-v-adf77bd4><p class="font-bold text-black" data-v-adf77bd4>Königs-Villen-Immobilien GmbH</p><p data-v-adf77bd4>Stuttgarter Str. 24</p><p data-v-adf77bd4>70825 Korntal-Münchingen</p></div><div class="text-left" data-v-adf77bd4><p data-v-adf77bd4><a href="http://www.koenigs-villen-immobilien.de" class="text-blue-600" data-v-adf77bd4>www.koenigs-villen-immobilien.de</a></p><p data-v-adf77bd4><a href="mailto:info@koenigs-villen-immobilien.de" class="text-blue-600" data-v-adf77bd4>info@koenigs-villen-immobilien.de</a></p><p data-v-adf77bd4>Tel Nr. 07150 8105434</p></div></div>',2))]))])}}},X=K(T,[["__scopeId","data-v-adf77bd4"]]);export{X as default};
