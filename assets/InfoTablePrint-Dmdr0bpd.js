import{_ as C}from"./logo-5BIeh89Q.js";import{a as b}from"./api-DZjo8B6_.js";import{a as U}from"./helper-C8W09Boa.js";import{l as u,Y as tt,r as _,o as et,W as st,c,e as t,a as Z,t as s,j as J,m as O,F as Q,f as W,g as lt,a0 as nt,b as g}from"./index-CuuZbu68.js";import{_ as ot}from"./Textarea-BQBzGgwM.js";import{_ as at}from"./_plugin-vue_export-helper-DlAUqK2U.js";const it={class:"bg-white font-sans print:p-0"},dt={class:"print:block hidden"},rt={class:"invoice-table mb-20"},ut={class:"body-content"},mt={class:"px-8"},pt={class:"flex justify-between items-start gap-4 mb-25"},vt={class:"text-base leading-normal"},bt={class:"text-sm"},ct={class:"space-y-1"},gt={class:"flex justify-between items-center w-80"},ft={class:"font-semibold ml-8"},xt={class:"flex justify-between items-center"},_t={class:"font-semibold ml-8"},ht={class:"flex justify-between items-center mt-15"},wt={class:"font-semibold ml-8"},yt={class:"mb-4"},It={class:"text-lg font-bold mb-1"},Nt={class:"text-base"},St={class:"w-full text-base mb-4"},Dt={class:"body-content"},Et={class:"px-8"},Bt={class:"w-full text-sm"},kt={class:"p-2 align-top text-rigt w-20"},Lt={class:"p-2 align-top"},jt={class:"font-semibold text-gray-900"},Vt={class:"text-gray-600 text-xs"},At={class:"p-2 pb-1 align-top text-right w-24"},Gt={class:"p-2 align-top text-center w-20"},Kt={class:"p-2 align-top text-center w-24"},Mt={class:"p-2 align-top text-right font-semibold w-28"},$t={class:"flex justify-end mt-3 mb-15 border-t border-gray-300"},zt={class:"w-1/2 text-xs"},Ft={class:"w-full"},Rt={class:"pt-2 text-right"},Ht={class:"pb-2 text-right"},Tt={class:"font-bold text-sm border-t border-b border-gray-300"},qt={class:"pt-2 pb-2 text-right"},Pt={class:"text-sm"},Ct={class:"w-[210mm] min-h-[297mm] mx-auto print:hidden"},Ut={class:"page m-4"},Zt={class:"flex-grow"},Jt={class:"flex justify-between items-start gap-4"},Ot={class:"text-base leading-normal"},Qt={class:"text-sm mb-25"},Wt={class:"space-y-1"},Yt={class:"flex justify-between items-center min-w-48"},Xt={class:"font-semibold ml-8"},te={class:"flex justify-between items-center"},ee={class:"font-semibold ml-8"},se={class:"flex justify-between items-center mt-15"},le={class:"font-semibold ml-8"},ne={class:"mb-6 mt-8"},oe={class:"text-lg font-bold mb-1"},ae={class:"text-base"},ie={class:"w-full text-base mb-6"},de={class:"w-full text-sm"},re={class:"p-2 align-top text-left"},ue={class:"p-2 align-top"},me={class:"font-semibold text-gray-900"},pe={class:"text-gray-600 text-xs"},ve={class:"p-2 align-top text-right"},be={class:"p-2 align-top text-center"},ce={class:"p-2 align-top text-center"},ge={class:"p-2 align-top text-right font-semibold"},fe={class:"flex justify-end mt-3 mb-15 border-t border-gray-300"},xe={class:"w-1/2 text-xs"},_e={class:"w-full"},he={class:"pt-2 text-right"},we={class:"pb-2 text-right"},ye={class:"font-bold text-sm border-t border-b border-gray-300"},Ie={class:"pt-2 pb-2 text-right"},Ne={class:"mt-12 text-sm"},Se={__name:"InfoTablePrint",setup(De){const m=tt(),p=u(()=>m.params.id),a=u(()=>m.query.year),r=u(()=>m.query.month);u(()=>m.query.day),u(()=>m.query.type);const n=_(null),f=_([]),d=_(null),v=_("Frau Suela"),w=o=>["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"][o-1],Y=async()=>{!p||!a||!r||([n.value,f.value,d.value]=await Promise.all([b.getHouseById(p.value),b.getInfoRows(p.value,a.value,r.value),b.getInvoiceVars(p.value,a.value,r.value)]))},y=o=>{(o.ctrlKey||o.metaKey)&&o.key==="p"&&(o.preventDefault(),X())},X=async()=>{try{await b.saveInvoiceVar(d.value)}catch(o){console.error("Failed to save invoice. A new invoice number will be fetched.",o),d.value=await b.getInvoiceVars(p.value,a.value,r.value)}await nt(),window.print()};et(()=>{Y(),window.addEventListener("keydown",y)}),st(()=>{window.removeEventListener("keydown",y)});const x=u(()=>f.value.reduce((o,e)=>o+e.netto*e.quantity,0)),h=u(()=>x.value*.19),I=u(()=>x.value+h.value),i=o=>(o||0).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),N=o=>(o||0).toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:1});return(o,e)=>{var S,D,E,B,k,L,j,V,A,G,K,M,$,z,F,R,H,T,q,P;return g(),c("div",it,[t("div",dt,[t("table",rt,[e[18]||(e[18]=t("thead",{class:"table-header"},[t("tr",null,[t("th",{class:"header-content"},[t("div",{class:"p-4"},[t("header",{class:"flex justify-end items-start"},[t("img",{src:C,alt:"KÖNIGS-VILLEN Logo",class:"w-60"})])])])])],-1)),t("tbody",null,[t("tr",null,[t("td",ut,[t("div",mt,[t("div",pt,[t("div",null,[e[1]||(e[1]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"}," Königs villen-Immobilien GmbH - Stuttgarter str. 24 - 70825 Korntal-Münchingen ",-1)),t("div",vt,[t("p",null,s(((S=n.value)==null?void 0:S.client)||"Landeshauptstadt Stuttgart"),1),t("p",null,s(((D=n.value)==null?void 0:D.department)||"Amt für Liegenschaften"),1),t("p",null,s(((E=n.value)==null?void 0:E.reference)||"GZ: 23-3.31"),1),t("p",null,s(((B=n.value)==null?void 0:B.street)||"Eichstrasse 7"),1),t("p",null,s(((k=n.value)==null?void 0:k.zipCode)||"70173")+" "+s(((L=n.value)==null?void 0:L.city)||"Stuttgart"),1)])]),t("div",bt,[e[5]||(e[5]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"},[J(" Bei Anfragen bitte Beleg- und Kundennummer angeben "),t("br"),J("  ")],-1)),t("div",ct,[t("div",gt,[e[2]||(e[2]=t("span",null,"Rechnung Nr.",-1)),t("span",ft,s(`Re-${a.value}-${(j=d.value)==null?void 0:j.invoiceNr}`),1)]),t("div",xt,[e[3]||(e[3]=t("span",null,"Datum:",-1)),t("span",_t,s(O(U)()),1)]),t("div",ht,[e[4]||(e[4]=t("span",null,"UST-ID:",-1)),t("span",wt,s(((V=d.value)==null?void 0:V.vatId)||"DE329026056"),1)])])])]),t("div",yt,[t("h1",It,"Rechnung "+s(`Re-${a.value}-${(A=d.value)==null?void 0:A.invoiceNr}`),1),t("p",Nt,s(w(r.value))+" "+s(a.value)+" Hausmeisterdienstleistungen laut Vergabe Nr. 233656",1)]),t("table",St,[t("tbody",null,[t("tr",null,[e[6]||(e[6]=t("td",{class:"w-60 pr-4"},"Bearbeiter:",-1)),t("td",null,s(v.value),1)]),t("tr",null,[e[7]||(e[7]=t("td",{class:"w-40 pr-4"},"Projekt:",-1)),t("td",null,s((G=n.value)==null?void 0:G.name),1)]),t("tr",null,[e[8]||(e[8]=t("td",{class:"w-40 pr-4"},"Liefer- / Leistungsfrist:",-1)),t("td",null,s(`01.${r.value}.${a.value}`),1)]),e[9]||(e[9]=t("tr",null,[t("td",{class:"w-40 pr-4"},"Zahlungsbedingung:"),t("td",null,"30 Tage ohne Abzug")],-1))])]),e[10]||(e[10]=t("p",{class:"mb-1 text-base"},"Sehr geehrte Damen und Herren,",-1)),e[11]||(e[11]=t("p",{class:"mb-3 text-base"},"hiermit stellen wir Ihnen folgende Position(en) in Rechnung",-1))])])]),t("tr",null,[t("td",Dt,[t("div",Et,[t("table",Bt,[e[12]||(e[12]=t("thead",null,[t("tr",{class:"bg-orange-300"},[t("th",{class:"p-1 text-left w-20 font-semibold"},"Artikel-Nr."),t("th",{class:"p-1 text-left font-semibold"},"Bezeichnung"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Netto"),t("th",{class:"p-1 text-center w-20 font-semibold"},"Menge"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Einheit"),t("th",{class:"p-1 text-center w-28 font-semibold"},"Summe")])],-1)),t("tbody",null,[(g(!0),c(Q,null,W(f.value,l=>(g(),c("tr",{key:l.id>0?l.id:l.tempId},[t("td",kt,s(l.index)+".",1),t("td",Lt,[t("div",jt,s(l.name),1),t("div",Vt,s(l.comment),1)]),t("td",At,s(i(l.netto)),1),t("td",Gt,s(N(l.quantity)),1),t("td",Kt,s(l.unit),1),t("td",Mt,s(i(l.netto*l.quantity)),1)]))),128))])]),t("div",$t,[t("div",zt,[t("table",Ft,[t("tbody",null,[t("tr",null,[e[13]||(e[13]=t("td",{class:"pt-2 text"},"Summe netto",-1)),t("td",Rt,s(i(x.value))+" Euro",1)]),t("tr",null,[e[14]||(e[14]=t("td",{class:"pb-2"},"zzgl. MwSt 19,00 %",-1)),t("td",Ht,s(i(h.value))+" Euro",1)]),t("tr",Tt,[e[15]||(e[15]=t("td",{class:"pt-2 pb-2"},"Gesamtsumme",-1)),t("td",qt,s(i(I.value))+" Euro",1)])])])])]),t("div",Pt,[e[16]||(e[16]=t("p",null,"Vielen Dank für Ihre(n) Bestellung / Auftrag.",-1)),e[17]||(e[17]=t("p",{class:"mt-6"},"Mit freundlichen Grüßen",-1)),t("p",null,s(v.value),1)])])])])]),e[19]||(e[19]=t("tfoot",null,[t("tr",null,[t("td",null,[t("div",{class:"mb-40"})])])],-1))]),e[20]||(e[20]=Z('<div class="print-footer" data-v-06601443><footer class="text-xs text-gray-600 flex justify-between" data-v-06601443><div data-v-06601443><p data-v-06601443>Königs villen-Immobilen GmbH</p><p data-v-06601443>Stuttgarter str 24</p><p data-v-06601443>70825 Korntal-Münchingen</p><p data-v-06601443>www.koenigs-villen-immobilien.de</p></div><div data-v-06601443><p data-v-06601443>info@koenigs-villen-immobilien.de</p><p data-v-06601443>Tel. 071508105434</p><p data-v-06601443>Fax. 071508105435</p></div><div data-v-06601443><p data-v-06601443>IBAN: DE89611616960271447001</p><p data-v-06601443>USt-IdNr: DE329026056</p><p data-v-06601443>BIC: GENODES1NHB</p></div></footer></div>',1))]),t("div",Ct,[t("div",Ut,[t("div",Zt,[e[36]||(e[36]=t("header",{class:"flex justify-end items-start mb-12"},[t("img",{src:C,alt:"KÖNIGS-VILLEN Logo",class:"w-60"})],-1)),t("div",Jt,[t("div",null,[e[21]||(e[21]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"}," Königs villen-Immobilien GmbH - Stuttgarter str. 24 - 70825 Korntal-Münchingen ",-1)),t("div",Ot,[t("p",null,s(((K=n.value)==null?void 0:K.client)||"Landeshauptstadt Stuttgart"),1),t("p",null,s(((M=n.value)==null?void 0:M.department)||"Amt für Liegenschaften"),1),t("p",null,s((($=n.value)==null?void 0:$.reference)||"GZ: 23-3.31"),1),t("p",null,s(((z=n.value)==null?void 0:z.street)||"Eichstrasse 7"),1),t("p",null,s(((F=n.value)==null?void 0:F.zipCode)||"70173")+" "+s(((R=n.value)==null?void 0:R.city)||"Stuttgart"),1)])]),t("div",Qt,[e[25]||(e[25]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"}," Bei Anfragen bitte Beleg- und Kundennummer angeben ",-1)),t("div",Wt,[t("div",Yt,[e[22]||(e[22]=t("span",{class:""},"Rechnung Nr.",-1)),t("span",Xt,s(`Re-${a.value}-${(H=d.value)==null?void 0:H.invoiceNr}`),1)]),t("div",te,[e[23]||(e[23]=t("span",{class:""},"Datum:",-1)),t("span",ee,s(O(U)()),1)]),t("div",se,[e[24]||(e[24]=t("span",{class:""},"UST-ID:",-1)),t("span",le,s(((T=d.value)==null?void 0:T.vatId)||"DE329026056"),1)])])])]),t("div",ne,[t("h1",oe,"Rechnung "+s(`Re-${a.value}-${(q=d.value)==null?void 0:q.invoiceNr}`),1),t("p",ae,s(w(r.value))+" "+s(a.value)+" Hausmeisterdienstleistungen laut Vergabe Nr. 233656",1)]),t("table",ie,[t("tbody",null,[t("tr",null,[e[26]||(e[26]=t("td",{class:"w-60 pr-4"},"Bearbeiter:",-1)),t("td",null,[lt(ot,{class:"text-base p-0",modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l)},null,8,["modelValue"])])]),t("tr",null,[e[27]||(e[27]=t("td",{class:"w-40 pr-4"},"Projekt:",-1)),t("td",null,s((P=n.value)==null?void 0:P.name),1)]),t("tr",null,[e[28]||(e[28]=t("td",{class:"w-40 pr-4"},"Liefer- / Leistungsfrist:",-1)),t("td",null,s(`01.${r.value}.${a.value}`),1)]),e[29]||(e[29]=t("tr",null,[t("td",{class:"w-40 pr-4"},"Zahlungsbedingung:"),t("td",null,"30 Tage ohne Abzug")],-1))])]),e[37]||(e[37]=t("p",{class:"mb-2 text-base"},"Sehr geehrte Damen und Herren,",-1)),e[38]||(e[38]=t("p",{class:"mb-3 text-base"},"hiermit stellen wir Ihnen folgende Position(en) in Rechnung",-1)),t("table",de,[e[30]||(e[30]=t("thead",null,[t("tr",{class:"bg-orange-300"},[t("th",{class:"p-1 text-left w-20 font-semibold"},"Artikel-Nr."),t("th",{class:"p-1 text-left font-semibold"},"Bezeichnung"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Netto"),t("th",{class:"p-1 text-center w-20 font-semibold"},"Menge"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Einheit"),t("th",{class:"p-1 text-center w-28 font-semibold"},"Summe")])],-1)),t("tbody",null,[(g(!0),c(Q,null,W(f.value,l=>(g(),c("tr",{key:l.id>0?l.id:l.tempId},[t("td",re,s(l.index)+".",1),t("td",ue,[t("div",me,s(l.name),1),t("div",pe,s(l.comment),1)]),t("td",ve,s(i(l.netto)),1),t("td",be,s(N(l.quantity)),1),t("td",ce,s(l.unit),1),t("td",ge,s(i(l.netto*l.quantity)),1)]))),128))])]),t("div",fe,[t("div",xe,[t("table",_e,[t("tbody",null,[t("tr",null,[e[31]||(e[31]=t("td",{class:"pt-2 text"},"Summe netto",-1)),t("td",he,s(i(x.value))+" Euro",1)]),t("tr",null,[e[32]||(e[32]=t("td",{class:"pb-2"},"zzgl. MwSt 19,00 %",-1)),t("td",we,s(i(h.value))+" Euro",1)]),t("tr",ye,[e[33]||(e[33]=t("td",{class:"pt-2 pb-2"},"Gesamtsumme",-1)),t("td",Ie,s(i(I.value))+" Euro",1)])])])])]),t("div",Ne,[e[34]||(e[34]=t("p",null,"Vielen Dank für Ihre(n) Bestellung / Auftrag.",-1)),e[35]||(e[35]=t("p",{class:"mt-6"},"Mit freundlichen Grüßen",-1)),t("p",null,s(v.value),1)])]),e[39]||(e[39]=Z('<footer class="text-xs text-gray-600 mt-12 pt-4 flex justify-between" data-v-06601443><div data-v-06601443><p data-v-06601443>Königs villen-Immobilen GmbH</p><p data-v-06601443>Stuttgarter str 24</p><p data-v-06601443>70825 Korntal-Münchingen</p><p data-v-06601443>www.koenigs-villen-immobilien.de</p></div><div data-v-06601443><p data-v-06601443>info@koenigs-villen-immobilien.de</p><p data-v-06601443>Tel. 071508105434</p><p data-v-06601443>Fax. 071508105435</p></div><div data-v-06601443><p data-v-06601443>IBAN: DE89611616960271447001</p><p data-v-06601443>USt-IdNr: DE329026056</p><p data-v-06601443>BIC: GENODES1NHB</p></div></footer>',1))])])])}}},Ae=at(Se,[["__scopeId","data-v-06601443"]]);export{Ae as default};
