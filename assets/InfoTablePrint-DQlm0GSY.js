import{_ as P}from"./logo-5BIeh89Q.js";import{a as v}from"./api-JSDlMKlv.js";import{a as C}from"./helper-C8W09Boa.js";import{q as r,Y as X,r as w,o as tt,W as et,c,e as t,a as U,t as s,j as Z,k as J,F as O,f as Q,g as st,a0 as lt,b as g}from"./index-CtTrI2go.js";import{_ as nt}from"./Textarea-BPU7g72C.js";import{_ as at}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ot={class:"bg-white font-sans print:p-0"},it={class:"print:block hidden"},dt={class:"invoice-table mb-20"},rt={class:"body-content"},ut={class:"px-8"},mt={class:"flex justify-between items-start gap-4 mb-25"},pt={class:"text-base leading-normal"},bt={class:"text-sm"},vt={class:"space-y-1"},ct={class:"flex justify-between items-center w-80"},gt={class:"font-semibold ml-8"},ft={class:"flex justify-between items-center"},xt={class:"font-semibold ml-8"},wt={class:"flex justify-between items-center mt-15"},_t={class:"font-semibold ml-8"},ht={class:"mb-4"},yt={class:"text-lg font-bold mb-1"},It={class:"w-full text-base mb-4"},St={class:"body-content"},Nt={class:"px-8"},Dt={class:"w-full text-sm"},Et={class:"p-2 align-top text-rigt w-20"},kt={class:"p-2 align-top"},Bt={class:"font-semibold text-gray-900"},Lt={class:"text-gray-600 text-xs"},jt={class:"p-2 pb-1 align-top text-right w-24"},Vt={class:"p-2 align-top text-center w-20"},Kt={class:"p-2 align-top text-center w-24"},Gt={class:"p-2 align-top text-right font-semibold w-28"},At={class:"flex justify-end mt-8 mb-8"},$t={class:"w-1/2 text-sm"},Rt={class:"w-full"},Ft={class:"p-2 text-right"},Ht={class:"p-2 text-right"},Mt={class:"font-bold text-lg border-t-2 border-black"},qt={class:"p-2 text-right"},zt={class:"text-sm"},Tt={class:"w-[210mm] min-h-[297mm] mx-auto print:hidden"},Pt={class:"page m-4"},Ct={class:"flex-grow"},Ut={class:"flex justify-between items-start gap-4"},Zt={class:"text-base leading-normal"},Jt={class:"text-sm mb-25"},Ot={class:"space-y-1"},Qt={class:"flex justify-between items-center min-w-48"},Wt={class:"font-semibold ml-8"},Yt={class:"flex justify-between items-center"},Xt={class:"font-semibold ml-8"},te={class:"flex justify-between items-center mt-15"},ee={class:"font-semibold ml-8"},se={class:"mb-6 mt-8"},le={class:"text-lg font-bold mb-1"},ne={class:"w-full text-base mb-6"},ae={class:"w-full text-sm"},oe={class:"p-2 align-top text-left"},ie={class:"p-2 align-top"},de={class:"font-semibold text-gray-900"},re={class:"text-gray-600 text-xs"},ue={class:"p-2 align-top text-right"},me={class:"p-2 align-top text-center"},pe={class:"p-2 align-top text-center"},be={class:"p-2 align-top text-right font-semibold"},ve={class:"flex justify-end mt-8"},ce={class:"w-1/2 text-sm"},ge={class:"w-full"},fe={class:"p-2 text-right"},xe={class:"p-2 text-right"},we={class:"font-bold text-lg border-t-2 border-black"},_e={class:"p-2 text-right"},he={class:"mt-12 text-sm"},ye={__name:"InfoTablePrint",setup(Ie){const m=X(),p=r(()=>m.params.id),o=r(()=>m.query.year),u=r(()=>m.query.month);r(()=>m.query.day),r(()=>m.query.type);const n=w(null),f=w([]),d=w(null),b=w("Frau Suela"),W=async()=>{!p||!o||!u||([n.value,f.value,d.value]=await Promise.all([v.getHouseById(p.value),v.getInfoRows(p.value,o.value,u.value),v.getInvoiceVars(p.value,o.value,u.value)]))},h=a=>{(a.ctrlKey||a.metaKey)&&a.key==="p"&&(a.preventDefault(),Y())},Y=async()=>{try{await v.saveInvoiceVar(d.value)}catch(a){console.error("Failed to save invoice. A new invoice number will be fetched.",a),d.value=await v.getInvoiceVars(p.value,o.value,u.value)}await lt(),window.print()};tt(()=>{W(),window.addEventListener("keydown",h)}),et(()=>{window.removeEventListener("keydown",h)});const x=r(()=>f.value.reduce((a,e)=>a+e.netto*e.quantity,0)),_=r(()=>x.value*.19),y=r(()=>x.value+_.value),i=a=>(a||0).toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2}),I=a=>(a||0).toLocaleString("de-DE",{minimumFractionDigits:0,maximumFractionDigits:1});return(a,e)=>{var S,N,D,E,k,B,L,j,V,K,G,A,$,R,F,H,M,q,z,T;return g(),c("div",ot,[t("div",it,[t("table",dt,[e[19]||(e[19]=t("thead",{class:"table-header"},[t("tr",null,[t("th",{class:"header-content"},[t("div",{class:"p-4"},[t("header",{class:"flex justify-end items-start"},[t("img",{src:P,alt:"KÖNIGS-VILLEN Logo",class:"w-60"})])])])])],-1)),t("tbody",null,[t("tr",null,[t("td",rt,[t("div",ut,[t("div",mt,[t("div",null,[e[1]||(e[1]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"}," Königs villen-Immobilien GmbH - Stuttgarter str. 24 - 70825 Korntal-Münchingen ",-1)),t("div",pt,[t("p",null,s(((S=n.value)==null?void 0:S.client)||"Landeshauptstadt Stuttgart"),1),t("p",null,s(((N=n.value)==null?void 0:N.department)||"Amt für Liegenschaften"),1),t("p",null,s(((D=n.value)==null?void 0:D.reference)||"GZ: 23-3.31"),1),t("p",null,s(((E=n.value)==null?void 0:E.street)||"Eichstrasse 7"),1),t("p",null,s(((k=n.value)==null?void 0:k.zipCode)||"70173")+" "+s(((B=n.value)==null?void 0:B.city)||"Stuttgart"),1)])]),t("div",bt,[e[5]||(e[5]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"},[Z(" Bei Anfragen bitte Beleg- und Kundennummer angeben "),t("br"),Z("  ")],-1)),t("div",vt,[t("div",ct,[e[2]||(e[2]=t("span",null,"Rechnung Nr.",-1)),t("span",gt,s(`Re-${o.value}-${(L=d.value)==null?void 0:L.invoiceNr}`),1)]),t("div",ft,[e[3]||(e[3]=t("span",null,"Datum:",-1)),t("span",xt,s(J(C)()),1)]),t("div",wt,[e[4]||(e[4]=t("span",null,"UST-ID:",-1)),t("span",_t,s(((j=d.value)==null?void 0:j.vatId)||"DE329026056"),1)])])])]),t("div",ht,[t("h1",yt,"Rechnung "+s(`Re-${o.value}-${(V=d.value)==null?void 0:V.invoiceNr}`),1),e[6]||(e[6]=t("p",{class:"text-base"},"Juni 2025 Hausmeisterdienstleistungen laut Vergabe Nr. 233656",-1))]),t("table",It,[t("tbody",null,[t("tr",null,[e[7]||(e[7]=t("td",{class:"w-60 pr-4"},"Bearbeiter:",-1)),t("td",null,s(b.value),1)]),t("tr",null,[e[8]||(e[8]=t("td",{class:"w-40 pr-4"},"Projekt:",-1)),t("td",null,s((K=n.value)==null?void 0:K.name),1)]),t("tr",null,[e[9]||(e[9]=t("td",{class:"w-40 pr-4"},"Liefer- / Leistungsfrist:",-1)),t("td",null,s(`01.${u.value}.${o.value}`),1)]),e[10]||(e[10]=t("tr",null,[t("td",{class:"w-40 pr-4"},"Zahlungsbedingung:"),t("td",null,"30 Tage ohne Abzug")],-1))])]),e[11]||(e[11]=t("p",{class:"mb-1 text-base"},"Sehr geehrte Damen und Herren,",-1)),e[12]||(e[12]=t("p",{class:"mb-3 text-base"},"hiermit stellen wir Ihnen folgende Position(en) in Rechnung",-1))])])]),t("tr",null,[t("td",St,[t("div",Nt,[t("table",Dt,[e[13]||(e[13]=t("thead",null,[t("tr",{class:"bg-orange-300"},[t("th",{class:"p-1 text-left w-20 font-semibold"},"Artikel-Nr."),t("th",{class:"p-1 text-left font-semibold"},"Bezeichnung"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Netto"),t("th",{class:"p-1 text-center w-20 font-semibold"},"Menge"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Einheit"),t("th",{class:"p-1 text-center w-28 font-semibold"},"Summe")])],-1)),t("tbody",null,[(g(!0),c(O,null,Q(f.value,l=>(g(),c("tr",{key:l.id>0?l.id:l.tempId},[t("td",Et,s(l.index)+".",1),t("td",kt,[t("div",Bt,s(l.name),1),t("div",Lt,s(l.comment),1)]),t("td",jt,s(i(l.netto)),1),t("td",Vt,s(I(l.quantity)),1),t("td",Kt,s(l.unit),1),t("td",Gt,s(i(l.netto*l.quantity)),1)]))),128))])]),t("div",At,[t("div",$t,[t("table",Rt,[t("tbody",null,[t("tr",null,[e[14]||(e[14]=t("td",{class:"p-2"},"Summe netto",-1)),t("td",Ft,s(i(x.value))+" Euro",1)]),t("tr",null,[e[15]||(e[15]=t("td",{class:"p-2"},"zzgl. MwSt 19,00 %",-1)),t("td",Ht,s(i(_.value))+" Euro",1)]),t("tr",Mt,[e[16]||(e[16]=t("td",{class:"p-2"},"Gesamtsumme",-1)),t("td",qt,s(i(y.value))+" Euro",1)])])])])]),t("div",zt,[e[17]||(e[17]=t("p",null,"Vielen Dank für Ihre(n) Bestellung / Auftrag.",-1)),e[18]||(e[18]=t("p",{class:"mt-6"},"Mit freundlichen Grüßen",-1)),t("p",null,s(b.value),1)])])])])]),e[20]||(e[20]=t("tfoot",null,[t("tr",null,[t("td",null,[t("div",{class:"mb-40"})])])],-1))]),e[21]||(e[21]=U('<div class="print-footer" data-v-d71b5654><footer class="text-xs text-gray-600 flex justify-between" data-v-d71b5654><div data-v-d71b5654><p class="font-bold text-black" data-v-d71b5654>Königs villen-Immobilen GmbH</p><p data-v-d71b5654>Stuttgarter str 24</p><p data-v-d71b5654>70825 Korntal-Münchingen</p><p data-v-d71b5654>www.koenigs-villen-immobilien.de</p></div><div data-v-d71b5654><p data-v-d71b5654>info@koenigs-villen-immobilien.de</p><p data-v-d71b5654>Tel. 071508105434</p><p data-v-d71b5654>Fax. 071508105435</p></div><div data-v-d71b5654><p data-v-d71b5654>IBAN: DE89611616960271447001</p><p data-v-d71b5654>USt-IdNr: DE329026056</p><p data-v-d71b5654>BIC: GENODES1NHB</p></div></footer></div>',1))]),t("div",Tt,[t("div",Pt,[t("div",Ct,[e[38]||(e[38]=t("header",{class:"flex justify-end items-start mb-12"},[t("img",{src:P,alt:"KÖNIGS-VILLEN Logo",class:"w-60"})],-1)),t("div",Ut,[t("div",null,[e[22]||(e[22]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"}," Königs villen-Immobilien GmbH - Stuttgarter str. 24 - 70825 Korntal-Münchingen ",-1)),t("div",Zt,[t("p",null,s(((G=n.value)==null?void 0:G.client)||"Landeshauptstadt Stuttgart"),1),t("p",null,s(((A=n.value)==null?void 0:A.department)||"Amt für Liegenschaften"),1),t("p",null,s((($=n.value)==null?void 0:$.reference)||"GZ: 23-3.31"),1),t("p",null,s(((R=n.value)==null?void 0:R.street)||"Eichstrasse 7"),1),t("p",null,s(((F=n.value)==null?void 0:F.zipCode)||"70173")+" "+s(((H=n.value)==null?void 0:H.city)||"Stuttgart"),1)])]),t("div",Jt,[e[26]||(e[26]=t("div",{class:"text-xs mb-6 pb-1 border-b border-gray-300"}," Bei Anfragen bitte Beleg- und Kundennummer angeben ",-1)),t("div",Ot,[t("div",Qt,[e[23]||(e[23]=t("span",{class:""},"Rechnung Nr.",-1)),t("span",Wt,s(`Re-${o.value}-${(M=d.value)==null?void 0:M.invoiceNr}`),1)]),t("div",Yt,[e[24]||(e[24]=t("span",{class:""},"Datum:",-1)),t("span",Xt,s(J(C)()),1)]),t("div",te,[e[25]||(e[25]=t("span",{class:""},"UST-ID:",-1)),t("span",ee,s(((q=d.value)==null?void 0:q.vatId)||"DE329026056"),1)])])])]),t("div",se,[t("h1",le,"Rechnung "+s(`Re-${o.value}-${(z=d.value)==null?void 0:z.invoiceNr}`),1),e[27]||(e[27]=t("p",{class:"text-base"},"Juni 2025 Hausmeisterdienstleistungen laut Vergabe Nr. 233656",-1))]),t("table",ne,[t("tbody",null,[t("tr",null,[e[28]||(e[28]=t("td",{class:"w-60 pr-4"},"Bearbeiter:",-1)),t("td",null,[st(nt,{class:"text-base p-0",modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=l=>b.value=l)},null,8,["modelValue"])])]),t("tr",null,[e[29]||(e[29]=t("td",{class:"w-40 pr-4"},"Projekt:",-1)),t("td",null,s((T=n.value)==null?void 0:T.name),1)]),t("tr",null,[e[30]||(e[30]=t("td",{class:"w-40 pr-4"},"Liefer- / Leistungsfrist:",-1)),t("td",null,s(`01.${u.value}.${o.value}`),1)]),e[31]||(e[31]=t("tr",null,[t("td",{class:"w-40 pr-4"},"Zahlungsbedingung:"),t("td",null,"30 Tage ohne Abzug")],-1))])]),e[39]||(e[39]=t("p",{class:"mb-2 text-base"},"Sehr geehrte Damen und Herren,",-1)),e[40]||(e[40]=t("p",{class:"mb-3 text-base"},"hiermit stellen wir Ihnen folgende Position(en) in Rechnung",-1)),t("table",ae,[e[32]||(e[32]=t("thead",null,[t("tr",{class:"bg-orange-300"},[t("th",{class:"p-1 text-left w-20 font-semibold"},"Artikel-Nr."),t("th",{class:"p-1 text-left font-semibold"},"Bezeichnung"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Netto"),t("th",{class:"p-1 text-center w-20 font-semibold"},"Menge"),t("th",{class:"p-1 text-center w-24 font-semibold"},"Einheit"),t("th",{class:"p-1 text-center w-28 font-semibold"},"Summe")])],-1)),t("tbody",null,[(g(!0),c(O,null,Q(f.value,l=>(g(),c("tr",{key:l.id>0?l.id:l.tempId},[t("td",oe,s(l.index)+".",1),t("td",ie,[t("div",de,s(l.name),1),t("div",re,s(l.comment),1)]),t("td",ue,s(i(l.netto)),1),t("td",me,s(I(l.quantity)),1),t("td",pe,s(l.unit),1),t("td",be,s(i(l.netto*l.quantity)),1)]))),128))])]),t("div",ve,[t("div",ce,[t("table",ge,[t("tbody",null,[t("tr",null,[e[33]||(e[33]=t("td",{class:"p-2"},"Summe netto",-1)),t("td",fe,s(i(x.value))+" Euro",1)]),t("tr",null,[e[34]||(e[34]=t("td",{class:"p-2"},"zzgl. MwSt 19,00 %",-1)),t("td",xe,s(i(_.value))+" Euro",1)]),t("tr",we,[e[35]||(e[35]=t("td",{class:"p-2"},"Gesamtsumme",-1)),t("td",_e,s(i(y.value))+" Euro",1)])])])])]),t("div",he,[e[36]||(e[36]=t("p",null,"Vielen Dank für Ihre(n) Bestellung / Auftrag.",-1)),e[37]||(e[37]=t("p",{class:"mt-6"},"Mit freundlichen Grüßen",-1)),t("p",null,s(b.value),1)])]),e[41]||(e[41]=U('<footer class="text-xs text-gray-600 mt-12 pt-4 flex justify-between" data-v-d71b5654><div data-v-d71b5654><p class="font-bold text-black" data-v-d71b5654>Königs villen-Immobilen GmbH</p><p data-v-d71b5654>Stuttgarter str 24</p><p data-v-d71b5654>70825 Korntal-Münchingen</p><p data-v-d71b5654>www.koenigs-villen-immobilien.de</p></div><div data-v-d71b5654><p data-v-d71b5654>info@koenigs-villen-immobilien.de</p><p data-v-d71b5654>Tel. 071508105434</p><p data-v-d71b5654>Fax. 071508105435</p></div><div data-v-d71b5654><p data-v-d71b5654>IBAN: DE89611616960271447001</p><p data-v-d71b5654>USt-IdNr: DE329026056</p><p data-v-d71b5654>BIC: GENODES1NHB</p></div></footer>',1))])])])}}},Le=at(ye,[["__scopeId","data-v-d71b5654"]]);export{Le as default};
