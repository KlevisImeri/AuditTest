import{d as r,u as i,o as c,c as l,a as d,b as u}from"./index-xZsWEGk-.js";import{v as p}from"./api-CcpJKXYU.js";const h={class:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4"},g=r({__name:"Validate",setup(m){const t=i();t.push("/login");const n=async()=>{if(!localStorage.getItem("authToken")){t.push("/login");return}try{const e=await p(),a={};if(e.todayOnly){const s=new Date;a.year=String(s.getFullYear()),a.month=String(s.getMonth()+1).padStart(2,"0"),t.push({path:`/houses/${e.houseId}`,query:a})}else t.push({path:"/houses/",query:a})}catch{t.push("/login")}};return c(()=>{n()}),(o,e)=>(u(),l("div",h,e[0]||(e[0]=[d('<div class="max-w-md w-full text-center space-y-8"><div class="flex items-center justify-center"><div class="w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div></div><div class="space-y-2"><h1 class="text-3xl font-bold text-gray-900">Loading Application</h1><p class="text-gray-600">Checking authentication status...</p></div><div class="flex items-center justify-center space-x-2 text-gray-400"><div class="h-2 w-2 bg-current rounded-full animate-bounce"></div><div class="h-2 w-2 bg-current rounded-full animate-bounce" style="animation-delay:0.1s;"></div><div class="h-2 w-2 bg-current rounded-full animate-bounce" style="animation-delay:0.2s;"></div></div></div>',1)])))}});export{g as default};
