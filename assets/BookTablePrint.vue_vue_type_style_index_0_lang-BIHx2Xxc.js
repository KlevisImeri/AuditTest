import{p as b,c as u,b as m,h as _,q as g,t as c,d as D,V as k,e as t,F as v,f as y,g as n,n as N,k as f}from"./index-DK4UHyUW.js";import{_ as h}from"./Textarea-Bz-9DESd.js";const V={key:0},w={__name:"TickButton",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(o){const r=b(o,"modelValue");return(l,a)=>(m(),u("button",{onClick:a[0]||(a[0]=e=>r.value=!r.value)},[r.value?(m(),u("h1",V,"X")):_("",!0)]))}},S={class:"p-1 whitespace-pre-wrap break-all"},d={__name:"TextAreaPrint",props:{texts:{type:Array,default:()=>[]}},setup(o){const r=o,l=g(()=>r.texts.filter(a=>a!=null).join(" "));return(a,e)=>(m(),u("div",S,c(l.value),1))}},x=o=>{if(!o)return"";const r=o.split("-");if(r.length!==3)return"";const[l,a,e]=r,s=e.padStart(2,"0"),i=a.padStart(2,"0");return`${s}.${i}.${l}`},rt=()=>{const o=new Date,r=o.getTimezoneOffset();return new Date(o.getTime()-r*60*1e3).toISOString().split("T")[0]},at=()=>{const o=new Date,r=o.getDate(),l=o.getMonth()+1,a=o.getFullYear(),e=String(r).padStart(2,"0"),s=String(l).padStart(2,"0");return`${e}.${s}.${a}`},lt=(o,r,l)=>{const a=[],e=Number(o),s=Number(r),i=Number(l);if(!isNaN(e)&&e>0&&a.push(String(e).padStart(2,"0")),!isNaN(s)&&s>=1&&s<=12){const p=new Intl.DateTimeFormat("de-DE",{month:"long"});a.push(p.format(new Date(i||2e3,s-1,1)))}return isNaN(i)||a.push(String(i)),a.join(" ")},T={class:"p-3 mb-20 print:block book-table-landscape"},$={id:"table",class:"report-header"},M={class:"report-header"},C={colspan:"10"},A={class:"flex items-center justify-between font-bold mb-3 p-3"},B={class:"flex flex-col items-center"},j={class:"text-md"},F={class:"flex justify-center items-center"},J={class:"text-md"},U={key:0,class:"text-md ml-20"},W={class:"report-content"},z={class:"border text-center"},G={class:"border text-center"},I={class:"border text-center"},O={class:"border"},E={class:"border text-center"},P={class:"print:block"},R={class:"border text-center"},K={class:"print:block"},L={class:"border text-center"},Y={class:"border"},q={class:"border"},H={class:"border"},X={class:"border text-center"},Q={class:"border hidden print:table-cell"},Z={class:"border print:hidden"},tt={class:"border hidden print:table-cell"},et={class:"border print:hidden"},nt=D({__name:"BookTablePrint",props:k({entries:Array,entryTypes:Array,address:String,formattedDate:String,type:[String,Number]},{anfahrt:{},anfahrtModifiers:{},placeholder2:{},placeholder2Modifiers:{}}),emits:["update:anfahrt","update:placeholder2"],setup(o){const r=b(o,"anfahrt"),l=b(o,"placeholder2");return(a,e)=>(m(),u("div",T,[t("table",$,[t("thead",M,[t("tr",null,[t("th",C,[t("div",A,[e[2]||(e[2]=t("p",{class:"text-lg font-bold mr-2"},"Kommunikationsbuch",-1)),t("div",B,[t("p",j,"Gebäudename: "+c(o.address),1),t("div",F,[t("p",J,"Monat und Jahr: "+c(o.formattedDate),1),o.entryTypes[o.type]?(m(),u("p",U,c(o.entryTypes[o.type].name),1)):_("",!0)])]),e[3]||(e[3]=t("p",{class:"text-md"},"K-V-I Gebäudemanagement",-1))])])]),e[4]||(e[4]=t("tr",{class:"bg-gray-100"},[t("th",{class:"border px-1"},"Pos."),t("th",{class:"border px-1"},"Haus-Nr."),t("th",{class:"border px-1"},"Raum-Nr."),t("th",{class:"border px-35"},"Reparatur (Beschreibungstext)"),t("th",{class:"border px-1"},"festgestellt am:"),t("th",{class:"border px-5"},"erledigt am:"),t("th",{class:"border px-2"},"Uhrzeit bei Noteinsatz:"),t("th",{class:"border px-1"},"Anfahrt"),t("th",{class:"border px-1"},"Rückinfo ans Amt"),t("th",{class:"border px-15"},"Extra Arbeit")],-1))]),t("tbody",W,[(m(!0),u(v,null,y(o.entries,(s,i)=>(m(),u("tr",{key:s.id,class:N({"bg-red-200":s.deleted,"bg-gray-200":s.edited})},[t("td",z,c(i+1),1),t("td",G,[n(d,{class:"w-full",texts:[s.houseNumber]},null,8,["texts"])]),t("td",I,[n(d,{class:"w-full",texts:[s.roomNumber]},null,8,["texts"])]),t("td",O,[n(d,{class:"w-full",texts:[s.repairDescription]},null,8,["texts"])]),t("td",E,[t("div",P,c(f(x)(s.noticedDate)),1)]),t("td",R,[t("div",K,c(f(x)(s.completedDate)),1)]),t("td",L,[n(d,{texts:[s.emergencyStartTime,s.emergencyWorkerCount==1?null:s.emergencyWorkerCount]},null,8,["texts"])]),t("td",Y,[n(d,{class:"w-full",texts:[s.travelInfo]},null,8,["texts"])]),t("td",q,[n(w,{class:"w-full",modelValue:s.feedbackToOffice,"onUpdate:modelValue":p=>s.feedbackToOffice=p},null,8,["modelValue","onUpdate:modelValue"])]),t("td",H,[n(d,{class:"w-full",texts:[s.extraJob,s.extraJobWorkerCount?null:s.extraJobWorkerCount,s.extraJobDescription]},null,8,["texts"])])],2))),128)),t("tr",null,[t("td",X,c(o.entries.length+1),1),e[5]||(e[5]=t("td",{class:"border text-center"},null,-1)),e[6]||(e[6]=t("td",{class:"border text-center"},null,-1)),e[7]||(e[7]=t("td",{class:"border p-1"},"Bearbeitet:",-1)),e[8]||(e[8]=t("td",{class:"border"},null,-1)),e[9]||(e[9]=t("td",{class:"border"},null,-1)),e[10]||(e[10]=t("td",{class:"border p-1"},"Anfahrt",-1)),t("td",Q,[n(d,{texts:[r.value],class:"w-full"},null,8,["texts"])]),t("td",Z,[n(h,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s)},null,8,["modelValue"])]),e[11]||(e[11]=t("td",{class:"border"},null,-1)),t("td",tt,[n(d,{texts:[l.value],class:"p1 w-full"},null,8,["texts"])]),t("td",et,[n(h,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s),class:"p1"},null,8,["modelValue"])])])])])]))}});export{w as _,nt as a,at as b,lt as f,rt as g};
