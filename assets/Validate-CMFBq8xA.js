import{d as r,o as i,c,a as l,u as d,b as u}from"./index-rYFENAiU.js";import{a as m}from"./api-Caf7j-qN.js";const p={class:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-4"},g=r({__name:"Validate",setup(h){const t=d(),s=async()=>{if(!localStorage.getItem("authToken")){t.push("/login");return}try{const e=await m.validateToken(),a={};if(e.todayOnly){const n=new Date;a.year=String(n.getFullYear()),a.month=String(n.getMonth()+1).padStart(2,"0"),t.push({path:`/house/${e.houseId}/Kommunikationsbuch`,query:a})}else t.push("/home")}catch{t.push("/login")}};return i(()=>{s()}),(o,e)=>(u(),c("div",p,e[0]||(e[0]=[l('<div class="max-w-md w-full text-center space-y-8"><div class="flex items-center justify-center"><div class="w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div></div><div class="space-y-2"><h1 class="text-3xl font-bold text-gray-900">Loading Application</h1><p class="text-gray-600">Checking authentication status...</p></div><div class="flex items-center justify-center space-x-2 text-gray-400"><div class="h-2 w-2 bg-current rounded-full animate-bounce"></div><div class="h-2 w-2 bg-current rounded-full animate-bounce" style="animation-delay:0.1s;"></div><div class="h-2 w-2 bg-current rounded-full animate-bounce" style="animation-delay:0.2s;"></div></div></div>',1)])))}});export{g as default};
