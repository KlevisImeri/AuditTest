import{d as F,r as a,o as N,c as i,e as o,f as Y,t as k,F as H,g as B,w as p,v as y,n as h,h as T,i as U,j,u as L,b as d}from"./index-g-f3o_GA.js";import{g as R}from"./api-CoOyLFJu.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"container mx-auto p-4"},A={key:0,class:"bg-red-500 text-white p-4 rounded mb-4"},G={key:1},J={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},K=["onClick"],O={class:"text-lg font-semibold text-gray-800 truncate"},$={key:2,class:"fixed inset-0 flex items-center justify-center z-50"},P={class:"bg-white bg-opacity-90 rounded-lg p-6 w-96 shadow-lg transition-transform transform scale-100 hover:scale-105"},Q=F({__name:"Houses",setup(W){const w=L(),m=a([]),f=a(null),b=a(!1),l=a(""),n=a(""),r=a("");let x=a(-1),u=a("");const c=a(!1),v=a(!1),g=a(!1);N(async()=>{try{m.value=await R(),console.log("Houses:",m.value);const e=new Date;l.value=e.getFullYear().toString(),n.value=(e.getMonth()+1).toString(),r.value=e.getDate().toString()}catch(e){console.error("Error fetching houses:",e),f.value=e.message}});const D=e=>{x.value=e,b.value=!0},_=()=>{b.value=!1;const e=new Date;l.value=e.getFullYear().toString(),n.value=(e.getMonth()+1).toString(),r.value=e.getDate().toString(),c.value=!1,v.value=!1,g.value=!1},V=()=>{const e=parseInt(l.value);c.value=l.value&&(isNaN(e)||e<1900||e>new Date().getFullYear()+10)},M=()=>{const e=parseInt(n.value);v.value=n.value&&(isNaN(e)||e<1||e>12)},S=()=>{const e=parseInt(r.value),t=parseInt(n.value)||new Date().getMonth()+1,s=parseInt(l.value)||new Date().getFullYear(),I=t===2?e>0&&e<=(C(s)?29:28):[4,6,9,11].includes(t)?e>0&&e<=30:e>0&&e<=31;g.value=r.value&&!I},C=e=>e%4===0&&e%100!==0||e%400===0,E=async()=>{if(!(c.value||v.value||g.value))try{const e={year:l.value?parseInt(l.value):void 0,month:n.value?parseInt(n.value):void 0,day:r.value?parseInt(r.value):void 0,type:u.value===""?void 0:parseInt(u.value)};await w.push({path:`/houses/${x.value}`,query:e}),_()}catch(e){console.error("Error during submission:",e),w.push("/login")}};return(e,t)=>(d(),i("div",q,[t[6]||(t[6]=o("h1",{class:"text-3xl font-bold mb-6 text-center"},"Geb채ude",-1)),f.value?(d(),i("div",A,k(f.value),1)):(d(),i("div",G,[o("div",J,[(d(!0),i(H,null,B(m.value,s=>(d(),i("div",{key:s.id,class:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer border border-gray-200",onClick:I=>D(s.id)},[o("div",O,k(s.address),1)],8,K))),128))])])),b.value?(d(),i("div",$,[o("div",P,[t[5]||(t[5]=o("h2",{class:"text-xl font-bold mb-4 text-center"},"Enter Date",-1)),p(o("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.value=s),type:"number",placeholder:"Jahr",class:h(["border p-2 mb-2 w-full rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-red-200":c.value}]),onInput:V},null,34),[[y,l.value]]),p(o("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value=s),type:"number",placeholder:"Monat",class:h(["border p-2 mb-2 w-full rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-red-200":v.value}]),onInput:M},null,34),[[y,n.value]]),p(o("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.value=s),type:"number",placeholder:"Tag",class:h(["border p-2 mb-4 w-full rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-red-200":g.value}]),onInput:S},null,34),[[y,r.value]]),p(o("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>j(u)?u.value=s:u=s),class:"border p-2 mb-4 w-full rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},t[4]||(t[4]=[o("option",{value:""},"Alle",-1),o("option",{value:0},"Kommunikationsbuch",-1),o("option",{value:1},"Bel체ftung R채ume",-1),o("option",{value:2},"Leitungssp체lung von Trinkwasserleitungen",-1)]),512),[[T,U(u)]]),o("div",{class:"flex justify-between"},[o("button",{onClick:E,class:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition-colors"}," Submit "),o("button",{onClick:_,class:"bg-gray-300 text-black p-2 rounded-md hover:bg-gray-400 transition-colors"}," Cancel ")])])])):Y("",!0)]))}}),te=z(Q,[["__scopeId","data-v-5e127c2e"]]);export{te as default};
